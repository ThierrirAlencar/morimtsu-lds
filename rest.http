@baseUrl = http://127.0.0.1:5676
### https://morimtsu-lds.onrender.com
### http://127.0.0.1:5676
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiZWIyM2I4Yy0zZTI2LTQxNTYtYTU0Yy0yZWEwYmVkNWIwOTciLCJyb2xlIjoiQURNSU4iLCJpYXQiOjE3NjUyODYxNTUsImV4cCI6MTc2NTg5MDk1NX0.ssoA__XDY5kK3EUrjtUZUz1emPGjqKsKxxM1EeYIUhM


POST {{baseUrl}}/user 
Content-Type: application/json

{
    "name":"Cabralz√£o da Massa",
    "email":"Cabral@gmail.com",
    "password":"admin123",
    "role":"USER"
}

### Enviar c√≥digo de recupera√ß√£o
PATCH https://morimtsu-lds.onrender.com/auth
Content-Type: application/json

{
  "email": "usuario@exemplo.com"
}

### Atualizar senha do usu√°rio
PUT {{baseUrl}}/auth
Content-Type: application/json

{
  "passport": "usuario123",
  "refString": "codigo-de-verificacao",
  "newPassword": "NovaSenhaSegura123!"
}

### üîê Login do usu√°rio
POST {{baseUrl}}/user/login
Content-Type: application/json

{
  "Email": "admin@gmail.com",
  "Password": "admin123"
}

### ‚öôÔ∏è Atualizar dados do usu√°rio (PUT /user)
PUT {{baseUrl}}/user
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI3M2I5NjIxNy0wYWQ3LTQ3ZTMtYjI3ZC1jOTk4YTI0NWEwOTIiLCJpYXQiOjE3NjE3NDM3OTIsImV4cCI6MTc2MjM0ODU5Mn0.nZ2k0W6aoGO0f_fuU5CsGQngzcfbbrrD82Hbk-xuJgs
Content-Type: application/json

{
  "name": "Saulo De Lima Bezerra"
}

### üóëÔ∏è Excluir usu√°rio (DELETE /user/:id)
DELETE {{baseUrl}}/user/1f1a2b3c-4d5e-6f7a-8b9c-0d1e2f3a4b5c
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiMzg4YmM1ZC1iYzdmLTQxOTAtOGI5Yi0xYTkzZDAzZjM0NzAiLCJpYXQiOjE3NjE3NDMyMzQsImV4cCI6MTc2MjM0ODAzNH0.PsnEqsDYp3U4zxHSvkGLzHNMAJgoZA1qoccncddXmB0

### üë§ Obter perfil do usu√°rio (GET /user/:id/profile)
GET {{baseUrl}}/user/profile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiZWIyM2I4Yy0zZTI2LTQxNTYtYTU0Yy0yZWEwYmVkNWIwOTciLCJyb2xlIjoiQURNSU4iLCJpYXQiOjE3NjI5NTc1ODgsImV4cCI6MTc2MzU2MjM4OH0.GiFZ-3wLauFtglM0qUbMxNcmHqgsjfv9dmnVHeebun4
# REST tests for classController
# Substitua {{baseUrl}} pelo endere√ßo da sua API (ex: http://localhost:3000)
# Ap√≥s criar a class, copie o id retornado e substitua {{classId}} nos requests seguintes.

### Create class (without coachId)
POST {{baseUrl}}/class
Content-Type: application/json

{
  "iconURL":"askkahsjjaksjjskaskaj",
  "name": "Test Class REST - without coach v2",
  "description": "Classe criada pelo teste REST",
  "maxAge": 12,
  "minAge": 6,
  "endTime": "18:00",
  "startTime": "17:00",
  "choachId":[]
}

### Create class (with coachId)
POST https://morimtsu-lds.onrender.com/class
Content-Type: application/json

{
  "name": "Turma de Celiane",
  "description": "Turma de Jiu-Jitsu para crian√ßas",
  "coachId": [],
  "iconURL": "https://example.com/icon.png",
  "minAge": 6,
  "endTime": "18:00",
  "startTime": "17:00"
}

### Get class by id
GET {{baseUrl}}/class/cmhy5tyxt0001if22bm42s0fb
Authorization: Bearer {{token}}

### Update class
PUT {{baseUrl}}/class/cmh0lx2fe0000ildk9cbn0s0p
Content-Type: application/json

{
  "description": "Descri√ß√£o atualizada"
}

### Delete class
DELETE {{baseUrl}}/class/cmhkniubx0000il9w54y6t8ee

### Get filtered classes (only query)
GET {{baseUrl}}/class?name=Turma
Authorization: Bearer {{token}}

# REST tests for StudentController
# Replace {{baseUrl}} with your server address (ex: http://localhost:3000)
# Replace IDs ({{studentId}}, {{classId}}) with real values returned by create requests.

### Create student
POST https://morimtsu-lds.onrender.com/student
Content-Type: application/json

{
  "name": "julia3",
  "email": "56@example.com",
  "CPF": "456521",
  "contact": "+2345677",
  "birthDate": "2007-05-20",
  "nickname": "julia do Ceara",
  "rank": "AMARELA",
  "comments": "Mulher",
  "presence": 23,
  "rating": 1,
  "gender":"female",
  "classId": []
}

### Get student by id
GET {{baseUrl}}/student/bea9ab40-ef43-4fb6-9394-e9e846a7ae88

### Update student personal info
PUT {{baseUrl}}/student/{{studentId}}/personal
Content-Type: application/json

{
  "name": "Jo√£o S. Updated",
  "contact": "+5511988888888",
  "nickname": "JoaoUpdated"
}

### Update student form
PUT {{baseUrl}}/student/{{studentId}}/form
Content-Type: application/json

{
  "Rank": "YELLOW",
  "Comments": "Improved technique",
  "Presence": 95,
  "Rating": 4
}

### Delete student
DELETE {{baseUrl}}/student/{{studentId}}


### Student joins a class
POST {{baseUrl}}/student/{{studentId}}/join/cmh2ds8qi000afa222rxz7aqq


### Query students - full filter
GET {{baseUrl}}/student?query=Joao&minAge=10&maxAge=18&CPF=12345678900&email=joao.silva@example.com&Presence=100&Rank=WHITE&class={{classId}}

### Query students - by text only
GET {{baseUrl}}/student?query=julia

### Query students - by age range only
GET {{baseUrl}}/student


### Query all teachers 
GET {{baseUrl}}/user/all?role=ADMIN
Authorization: Bearer {{token}}

### Promover estudante

PATCH {{baseUrl}}/student/promote?studentId=0b997c28-390c-4f18-aea8-aac2b763d170
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "password":"admin123"
}

#######################################
### 1Ô∏è‚É£ CRIAR UMA FREQU√äNCIA
#######################################
POST {{baseUrl}}/frequency
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "classId": "cmhkniubx0000il9w54y6t8ee",
  "studentIDs": ["e95b7c4f-65da-49af-9910-bdb5c7441743"]
}


#######################################
### 2Ô∏è‚É£ DELETAR UMA FREQU√äNCIA POR ID
#######################################
DELETE {{baseUrl}}/?id=frequency_abc123
Accept: application/json


#######################################
### 3Ô∏è‚É£ LISTAR / FILTRAR FREQU√äNCIAS
#######################################
GET {{baseUrl}}/frequency/?date=2024-01-15
Authorization: Bearer {{token}}


#######################################
### ‚öôÔ∏è CONFIG ENDPOINTS
#######################################

### 1Ô∏è‚É£ CRIAR UMA CONFIGURA√á√ÉO DE PROMO√á√ÉO
POST {{baseUrl}}/config
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Promo√ß√£o para Faixa Branca",
  "ref_rank": "BRANCA",
  "module": "rank",
  "needed_frequency": 80
}

### 2Ô∏è‚É£ CRIAR OUTRA CONFIGURA√á√ÉO
POST {{baseUrl}}/config
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Promo√ß√£o para Faixa Cinza",
  "ref_rank": "CINZA",
  "module": 2,
  "needed_frequency": 85
}

### 3Ô∏è‚É£ OBTER CONFIGURA√á√ÉO POR ID
GET {{baseUrl}}/config/{{configId}}
Authorization: Bearer {{token}}

### 4Ô∏è‚É£ OBTER CONFIGURA√á√ÉO POR RANK
GET {{baseUrl}}/config/rank/BRANCA
Authorization: Bearer {{token}}

### 5Ô∏è‚É£ LISTAR TODAS AS CONFIGURA√á√ïES
GET {{baseUrl}}/config
Authorization: Bearer {{token}}

### 6Ô∏è‚É£ ATUALIZAR CONFIGURA√á√ÉO
PUT {{baseUrl}}/config/{{configId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Promo√ß√£o para Faixa Branca - Atualizado",
  "needed_frequency": 90
}

### 7Ô∏è‚É£ DELETAR CONFIGURA√á√ÉO POR ID
DELETE {{baseUrl}}/config/{{configId}}
Authorization: Bearer {{token}}

### 8Ô∏è‚É£ DELETAR CONFIGURA√á√ÉO POR RANK
DELETE {{baseUrl}}/config/rank/CINZA
Authorization: Bearer {{token}}

### Promover aluno para pr√≥ximo rank (rank progression autom√°tico)
### Valida frequ√™ncia e promove para o pr√≥ximo rank da sequ√™ncia
PATCH {{baseUrl}}/student/promote/rank?studentId=2e1dfb8b-6dc4-4cab-b894-ecff99742742
Authorization: Bearer {{token}}
Content-Type: application/json
